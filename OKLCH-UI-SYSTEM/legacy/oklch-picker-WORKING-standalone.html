<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OKLCH Color Picker - Standalone (No External Dependencies)</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* OKLCH COLOR SYSTEM */
        :root {
            /* Neutrals */
            --neutral-0: oklch(100% 0 0);
            --neutral-50: oklch(98% 0.002 250);
            --neutral-100: oklch(95% 0.003 250);
            --neutral-200: oklch(88% 0.004 250);
            --neutral-300: oklch(82% 0.005 250);
            --neutral-400: oklch(65% 0.006 250);
            --neutral-500: oklch(55% 0.007 250);
            --neutral-600: oklch(45% 0.008 250);
            --neutral-700: oklch(35% 0.009 250);
            --neutral-800: oklch(25% 0.01 250);
            --neutral-900: oklch(15% 0.012 250);

            /* Semantic */
            --primary: oklch(48% 0.10 240);
            --success: oklch(52% 0.12 145);
            --warning: oklch(62% 0.14 75);
            --danger: oklch(54% 0.16 25);

            /* Theme */
            --bg: var(--neutral-0);
            --surface: var(--neutral-50);
            --border: var(--neutral-200);
            --text-primary: var(--neutral-900);
            --text-secondary: var(--neutral-600);

            /* Spacing */
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;

            /* Typography */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;

            /* Radius */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
        }

        [data-theme="dark"] {
            --bg: var(--neutral-900);
            --surface: var(--neutral-800);
            --border: var(--neutral-600);
            --text-primary: var(--neutral-50);
            --text-secondary: var(--neutral-300);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background 0.2s, color 0.2s;
        }

        .header {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: var(--space-4) var(--space-6);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-title {
            font-size: var(--text-xl);
            font-weight: 600;
        }

        .btn {
            padding: var(--space-2) var(--space-4);
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-family: inherit;
            font-size: var(--text-sm);
            color: var(--text-primary);
            transition: all 0.15s;
        }

        .btn:hover {
            background: var(--border);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-8);
        }

        .picker-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        @media (max-width: 768px) {
            .picker-grid {
                grid-template-columns: 1fr;
            }
        }

        .picker-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
        }

        .picker-card h2 {
            font-size: var(--text-2xl);
            margin-bottom: var(--space-4);
            color: var(--primary);
        }

        .picker-card h3 {
            font-size: var(--text-lg);
            margin: var(--space-6) 0 var(--space-3);
            color: var(--text-primary);
        }

        /* OKLCH SLIDERS */
        .slider-container {
            margin-bottom: var(--space-4);
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-2);
            font-size: var(--text-sm);
            font-weight: 500;
        }

        .slider-value {
            font-family: 'Fira Code', monospace;
            color: var(--primary);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: var(--radius-sm);
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: grab;
            box-shadow: 0 2px 4px oklch(0% 0 0 / 0.2);
            transition: transform 0.1s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        input[type="range"]::-webkit-slider-thumb:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: grab;
            border: none;
            box-shadow: 0 2px 4px oklch(0% 0 0 / 0.2);
        }

        /* COLOR PREVIEW */
        .color-preview {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: var(--space-4);
            margin-top: var(--space-6);
            padding: var(--space-4);
            background: var(--bg);
            border-radius: var(--radius-md);
        }

        .color-swatch {
            width: 200px;
            height: 200px;
            border-radius: var(--radius-lg);
            border: 2px solid var(--border);
            box-shadow: 0 4px 12px oklch(0% 0 0 / 0.1);
            transition: transform 0.2s;
        }

        .color-swatch:hover {
            transform: scale(1.02);
        }

        .color-info {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .color-value {
            padding: var(--space-3);
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-family: 'Fira Code', monospace;
            font-size: var(--text-sm);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .color-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .color-code {
            color: var(--primary);
            user-select: all;
        }

        .copy-btn {
            padding: var(--space-2) var(--space-3);
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: var(--text-xs);
            transition: opacity 0.15s;
        }

        .copy-btn:hover {
            opacity: 0.8;
        }

        .copy-btn:active {
            transform: scale(0.95);
        }

        /* 2D COLOR WHEEL */
        .color-wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: var(--space-6) auto;
        }

        #colorWheel {
            border-radius: 50%;
            cursor: crosshair;
            border: 2px solid var(--border);
        }

        .wheel-picker {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 3px solid white;
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 8px oklch(0% 0 0 / 0.3);
        }

        /* PALETTE GENERATOR */
        .palette-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--space-3);
            margin-top: var(--space-4);
        }

        .palette-swatch {
            aspect-ratio: 1;
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }

        .palette-swatch:hover {
            transform: scale(1.05);
            z-index: 10;
        }

        .palette-swatch:hover::after {
            content: attr(data-color);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text-primary);
            color: var(--bg);
            padding: var(--space-2);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            white-space: nowrap;
            z-index: 100;
        }

        /* ACTION BUTTONS */
        .action-buttons {
            display: flex;
            gap: var(--space-3);
            margin-top: var(--space-4);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        /* CONTRAST CHECKER */
        .contrast-checker {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-4);
            margin-top: var(--space-4);
        }

        .contrast-sample {
            padding: var(--space-6);
            border-radius: var(--radius-md);
            text-align: center;
            font-weight: 600;
        }

        .contrast-ratio {
            margin-top: var(--space-3);
            padding: var(--space-3);
            background: var(--surface);
            border-radius: var(--radius-md);
            text-align: center;
        }

        .contrast-pass {
            color: var(--success);
        }

        .contrast-fail {
            color: var(--danger);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-title">OKLCH Color Picker - Standalone</div>
        <button class="btn" onclick="toggleTheme()">
            <span id="theme-text">Dark Mode</span>
        </button>
    </header>

    <div class="container">
        <div class="picker-grid">
            <!-- OKLCH SLIDERS PICKER -->
            <div class="picker-card">
                <h2>🎛️ OKLCH Sliders</h2>
                <p style="color: var(--text-secondary); font-size: var(--text-sm); margin-bottom: var(--space-6);">
                    Direct control over Lightness, Chroma, and Hue
                </p>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Lightness (L)</span>
                        <span class="slider-value" id="lValue">65%</span>
                    </div>
                    <input type="range" id="lSlider" min="0" max="100" value="65" step="1">
                </div>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Chroma (C)</span>
                        <span class="slider-value" id="cValue">0.15</span>
                    </div>
                    <input type="range" id="cSlider" min="0" max="37" value="15" step="1">
                </div>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Hue (H)</span>
                        <span class="slider-value" id="hValue">240°</span>
                    </div>
                    <input type="range" id="hSlider" min="0" max="360" value="240" step="1">
                </div>

                <div class="color-preview">
                    <div class="color-swatch" id="sliderSwatch"></div>
                    <div class="color-info">
                        <div class="color-value">
                            <span class="color-label">OKLCH:</span>
                            <span class="color-code" id="sliderOklch">oklch(65% 0.15 240)</span>
                        </div>
                        <div class="color-value">
                            <span class="color-label">CSS:</span>
                            <span class="color-code" id="sliderCss">oklch(65% 0.15 240)</span>
                        </div>
                        <button class="copy-btn" onclick="copyToClipboard('sliderCss')">Copy CSS</button>
                    </div>
                </div>
            </div>

            <!-- 2D COLOR WHEEL -->
            <div class="picker-card">
                <h2>🎨 2D Color Wheel</h2>
                <p style="color: var(--text-secondary); font-size: var(--text-sm); margin-bottom: var(--space-6);">
                    Click anywhere to pick a color
                </p>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Lightness</span>
                        <span class="slider-value" id="wheelLValue">50%</span>
                    </div>
                    <input type="range" id="wheelLSlider" min="0" max="100" value="50" step="1">
                </div>

                <div class="color-wheel-container">
                    <canvas id="colorWheel" width="300" height="300"></canvas>
                    <div class="wheel-picker" id="wheelPicker"></div>
                </div>

                <div class="color-value" style="margin-top: var(--space-4);">
                    <span class="color-label">OKLCH:</span>
                    <span class="color-code" id="wheelOklch">oklch(50% 0.15 180)</span>
                </div>
            </div>
        </div>

        <!-- PALETTE GENERATOR -->
        <div class="picker-card">
            <h2>🎨 Palette Generator</h2>
            <p style="color: var(--text-secondary); font-size: var(--text-sm); margin-bottom: var(--space-4);">
                Generate harmonious color palettes from your selected color
            </p>

            <h3>Monochromatic (Lightness Variations)</h3>
            <div class="palette-container" id="paletteMonochrome"></div>

            <h3>Analogous (Hue Variations ±30°)</h3>
            <div class="palette-container" id="paletteAnalogous"></div>

            <h3>Complementary</h3>
            <div class="palette-container" id="paletteComplementary"></div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="regeneratePalettes()">Regenerate All</button>
                <button class="btn" onclick="exportPalettes()">Export CSS</button>
            </div>
        </div>

        <!-- CONTRAST CHECKER -->
        <div class="picker-card">
            <h2>♿ WCAG Contrast Checker</h2>
            <p style="color: var(--text-secondary); font-size: var(--text-sm); margin-bottom: var(--space-4);">
                Check if your color meets WCAG accessibility standards
            </p>

            <div class="contrast-checker">
                <div>
                    <div class="contrast-sample" id="contrastLight" style="background: white; color: black;">
                        Sample Text on White
                    </div>
                    <div class="contrast-ratio">
                        Ratio: <strong id="contrastLightRatio">4.5:1</strong>
                        <div id="contrastLightPass" class="contrast-pass">✓ AA Pass</div>
                    </div>
                </div>
                <div>
                    <div class="contrast-sample" id="contrastDark" style="background: black; color: white;">
                        Sample Text on Black
                    </div>
                    <div class="contrast-ratio">
                        Ratio: <strong id="contrastDarkRatio">7.2:1</strong>
                        <div id="contrastDarkPass" class="contrast-pass">✓ AAA Pass</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== OKLCH TO RGB CONVERSION ====================
        // Based on Björn Ottosson's Oklab color space

        function oklchToRgb(l, c, h) {
            // Convert OKLCH to OKLAB
            const hRad = (h * Math.PI) / 180;
            const a = c * Math.cos(hRad);
            const b = c * Math.sin(hRad);

            // OKLAB to linear RGB
            const l_ = l + 0.3963377774 * a + 0.2158037573 * b;
            const m_ = l - 0.1055613458 * a - 0.0638541728 * b;
            const s_ = l - 0.0894841775 * a - 1.2914855480 * b;

            const lCube = l_ * l_ * l_;
            const mCube = m_ * m_ * m_;
            const sCube = s_ * s_ * s_;

            let r = +4.0767245293 * lCube - 3.3072168827 * mCube + 0.2307590544 * sCube;
            let g = -1.2681437731 * lCube + 2.6093323231 * mCube - 0.3411344290 * sCube;
            let b2 = -0.0041119885 * lCube - 0.7034763098 * mCube + 1.7068625689 * sCube;

            // Gamma correction (sRGB)
            r = gammaCorrect(r);
            g = gammaCorrect(g);
            b2 = gammaCorrect(b2);

            return {
                r: Math.round(Math.max(0, Math.min(255, r * 255))),
                g: Math.round(Math.max(0, Math.min(255, g * 255))),
                b: Math.round(Math.max(0, Math.min(255, b2 * 255)))
            };
        }

        function gammaCorrect(x) {
            return x >= 0.0031308
                ? 1.055 * Math.pow(x, 1 / 2.4) - 0.055
                : 12.92 * x;
        }

        function rgbToHex(r, g, b) {
            return '#' + [r, g, b].map(x => {
                const hex = x.toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            }).join('');
        }

        // Relative luminance for contrast calculation
        function getLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(val => {
                val = val / 255;
                return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        function getContrastRatio(l1, l2) {
            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);
            return (lighter + 0.05) / (darker + 0.05);
        }

        // ==================== SLIDER PICKER ====================
        const lSlider = document.getElementById('lSlider');
        const cSlider = document.getElementById('cSlider');
        const hSlider = document.getElementById('hSlider');
        const lValue = document.getElementById('lValue');
        const cValue = document.getElementById('cValue');
        const hValue = document.getElementById('hValue');
        const sliderSwatch = document.getElementById('sliderSwatch');
        const sliderOklch = document.getElementById('sliderOklch');
        const sliderCss = document.getElementById('sliderCss');

        let currentL = 65;
        let currentC = 0.15;
        let currentH = 240;

        function updateSliderColor() {
            currentL = parseFloat(lSlider.value);
            currentC = parseFloat(cSlider.value) / 100;
            currentH = parseFloat(hSlider.value);

            lValue.textContent = `${currentL}%`;
            cValue.textContent = currentC.toFixed(2);
            hValue.textContent = `${currentH}°`;

            const oklchColor = `oklch(${currentL}% ${currentC.toFixed(2)} ${currentH})`;
            sliderSwatch.style.background = oklchColor;
            sliderOklch.textContent = oklchColor;
            sliderCss.textContent = oklchColor;

            // Update palettes
            regeneratePalettes();

            // Update contrast checker
            updateContrastChecker();
        }

        lSlider.addEventListener('input', updateSliderColor);
        cSlider.addEventListener('input', updateSliderColor);
        hSlider.addEventListener('input', updateSliderColor);

        // ==================== 2D COLOR WHEEL ====================
        const canvas = document.getElementById('colorWheel');
        const ctx = canvas.getContext('2d');
        const wheelLSlider = document.getElementById('wheelLSlider');
        const wheelLValue = document.getElementById('wheelLValue');
        const wheelOklch = document.getElementById('wheelOklch');
        const wheelPicker = document.getElementById('wheelPicker');

        let wheelL = 0.5;

        function drawColorWheel() {
            const size = 300;
            const center = size / 2;
            const radius = size / 2 - 10;

            for (let y = 0; y < size; y++) {
                for (let x = 0; x < size; x++) {
                    const dx = x - center;
                    const dy = y - center;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance <= radius) {
                        const angle = (Math.atan2(dy, dx) * 180 / Math.PI + 360) % 360;
                        const chroma = (distance / radius) * 0.37;

                        const rgb = oklchToRgb(wheelL, chroma, angle);
                        ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
                        ctx.fillRect(x, y, 1, 1);
                    }
                }
            }
        }

        function updateWheelLightness() {
            wheelL = parseFloat(wheelLSlider.value) / 100;
            wheelLValue.textContent = `${Math.round(wheelL * 100)}%`;
            drawColorWheel();
        }

        wheelLSlider.addEventListener('input', updateWheelLightness);

        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const center = 150;
            const dx = x - center;
            const dy = y - center;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const radius = 140;

            if (distance <= radius) {
                const angle = (Math.atan2(dy, dx) * 180 / Math.PI + 360) % 360;
                const chroma = (distance / radius) * 0.37;

                wheelOklch.textContent = `oklch(${Math.round(wheelL * 100)}% ${chroma.toFixed(2)} ${Math.round(angle)})`;

                // Update picker position
                wheelPicker.style.left = `${x}px`;
                wheelPicker.style.top = `${y}px`;
            }
        });

        // ==================== PALETTE GENERATOR ====================
        function generateMonochrome(l, c, h) {
            const palette = [];
            for (let i = 0; i < 5; i++) {
                const newL = 20 + (i * 16);
                palette.push({ l: newL, c, h });
            }
            return palette;
        }

        function generateAnalogous(l, c, h) {
            return [
                { l, c, h: (h - 60 + 360) % 360 },
                { l, c, h: (h - 30 + 360) % 360 },
                { l, c, h },
                { l, c, h: (h + 30) % 360 },
                { l, c, h: (h + 60) % 360 }
            ];
        }

        function generateComplementary(l, c, h) {
            const compH = (h + 180) % 360;
            return [
                { l: l - 20, c, h },
                { l: l - 10, c, h },
                { l, c, h },
                { l: l + 10, c, h: compH },
                { l: l + 20, c, h: compH }
            ];
        }

        function renderPalette(colors, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            colors.forEach(({ l, c, h }) => {
                const div = document.createElement('div');
                div.className = 'palette-swatch';
                const oklchColor = `oklch(${l}% ${c.toFixed(2)} ${h})`;
                div.style.background = oklchColor;
                div.dataset.color = oklchColor;
                div.onclick = () => {
                    lSlider.value = l;
                    cSlider.value = c * 100;
                    hSlider.value = h;
                    updateSliderColor();
                };
                container.appendChild(div);
            });
        }

        function regeneratePalettes() {
            renderPalette(generateMonochrome(currentL, currentC, currentH), 'paletteMonochrome');
            renderPalette(generateAnalogous(currentL, currentC, currentH), 'paletteAnalogous');
            renderPalette(generateComplementary(currentL, currentC, currentH), 'paletteComplementary');
        }

        function exportPalettes() {
            const mono = generateMonochrome(currentL, currentC, currentH);
            const analogous = generateAnalogous(currentL, currentC, currentH);
            const comp = generateComplementary(currentL, currentC, currentH);

            let css = '/* Monochromatic Palette */\n';
            mono.forEach(({ l, c, h }, i) => {
                css += `--color-mono-${i + 1}: oklch(${l}% ${c.toFixed(2)} ${h});\n`;
            });

            css += '\n/* Analogous Palette */\n';
            analogous.forEach(({ l, c, h }, i) => {
                css += `--color-analog-${i + 1}: oklch(${l}% ${c.toFixed(2)} ${h});\n`;
            });

            css += '\n/* Complementary Palette */\n';
            comp.forEach(({ l, c, h }, i) => {
                css += `--color-comp-${i + 1}: oklch(${l}% ${c.toFixed(2)} ${h});\n`;
            });

            navigator.clipboard.writeText(css);
            alert('CSS copied to clipboard!');
        }

        // ==================== CONTRAST CHECKER ====================
        function updateContrastChecker() {
            const rgb = oklchToRgb(currentL / 100, currentC, currentH);
            const colorLum = getLuminance(rgb.r, rgb.g, rgb.b);
            const whiteLum = getLuminance(255, 255, 255);
            const blackLum = getLuminance(0, 0, 0);

            const lightRatio = getContrastRatio(whiteLum, colorLum);
            const darkRatio = getContrastRatio(colorLum, blackLum);

            const hex = rgbToHex(rgb.r, rgb.g, rgb.b);

            document.getElementById('contrastLight').style.color = hex;
            document.getElementById('contrastDark').style.color = hex;

            document.getElementById('contrastLightRatio').textContent = lightRatio.toFixed(2) + ':1';
            document.getElementById('contrastDarkRatio').textContent = darkRatio.toFixed(2) + ':1';

            // WCAG AA requires 4.5:1 for normal text, AAA requires 7:1
            const lightPass = document.getElementById('contrastLightPass');
            if (lightRatio >= 7) {
                lightPass.textContent = '✓ AAA Pass';
                lightPass.className = 'contrast-pass';
            } else if (lightRatio >= 4.5) {
                lightPass.textContent = '✓ AA Pass';
                lightPass.className = 'contrast-pass';
            } else {
                lightPass.textContent = '✗ Fail';
                lightPass.className = 'contrast-fail';
            }

            const darkPass = document.getElementById('contrastDarkPass');
            if (darkRatio >= 7) {
                darkPass.textContent = '✓ AAA Pass';
                darkPass.className = 'contrast-pass';
            } else if (darkRatio >= 4.5) {
                darkPass.textContent = '✓ AA Pass';
                darkPass.className = 'contrast-pass';
            } else {
                darkPass.textContent = '✗ Fail';
                darkPass.className = 'contrast-fail';
            }
        }

        // ==================== UTILITY FUNCTIONS ====================
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text);

            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 1000);
        }

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);

            const themeText = document.getElementById('theme-text');
            themeText.textContent = newTheme === 'dark' ? 'Light Mode' : 'Dark Mode';
        }

        // ==================== INITIALIZATION ====================
        updateSliderColor();
        updateWheelLightness();
        drawColorWheel();
    </script>
</body>
</html>